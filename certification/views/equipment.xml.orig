<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <!--
        <record id="hr_equipment_view_kanban" model="ir.ui.view">
            <field name="name">equipment.kanban</field>
            <field name="model">critt.equipment</field>
            <field name="arch" type="xml">
                <kanban>
                    <field name="name"/>
                    <field name="color"/>
                    <field name="owner_user_id"/>
                    <field name="category_id"/>
                    <field name="num_materiel"/>
                    <field name="internal_no"/>
                    <templates>
                        <t t-name="kanban-tooltip">
                            <ul class="oe_kanban_tooltip">
                                <li><b>Serial Number:</b> <field name="num_materiel"/></li>
                            </ul>
                        </t>
                        <t t-name="kanban-box">
                            <div t-attf-class="oe_kanban_color_#{kanban_getcolor(record.color.raw_value)} oe_kanban_card oe_kanban_global_click">
                                <div class="o_dropdown_kanban dropdown">

                                    <a class="dropdown-toggle btn" data-toggle="dropdown" href="#" >
                                        <span class="fa fa-ellipsis-v"/>
                                    </a>
                                    <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                        <t t-if="widget.editable"><li><a type="edit">Edit...</a></li></t>
                                        <t t-if="widget.deletable"><li><a type="delete">Delete</a></li></t>
                                        <li class="divider"></li>
                                        <li class="dropdown-header">Record Colour</li>
                                        <li><ul class="oe_kanban_colorpicker" data-field="color"/></li>
                                    </ul>
                                </div>
                                <div class="oe_kanban_content" tooltip="kanban-tooltip">
                                    <div style="float:right"><field name="image_small" widget="image" class="oe_avatar"/></div>
                                    <div class="o_kanban_record_body">
                                        <div t-if="record.num_materiel.raw_value"><field name="num_materiel"/></div>
                                        <div t-if="!record.owner_user_id.raw_value">Unassigned</div>
                                        <div t-if="record.owner_user_id.raw_value"><field name="owner_user_id"/></div>
                                    </div>
                                    <div class="o_kanban_record_bottom">
                                        <div class="oe_kanban_bottom_left">
                                            <div class="label label-danger" t-if="record.maintenance_open_count.raw_value" >
                                                <t t-raw="record.maintenance_open_count.raw_value"/> Request
                                            </div>
                                            <div class="label label-default" t-if="record.next_action_date.raw_value" >
                                                <t t-raw="moment(record.next_action_date.raw_value).format('MMMM Do')"/>
                                            </div>
                                        </div>
                                        <div class="oe_kanban_bottom_right">
                                            <img t-att-src="kanban_image('res.users', 'image_small', record.owner_user_id.raw_value)" t-att-title="record.owner_user_id.value" width="27" height="27" class="oe_kanban_avatar"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="oe_clear"></div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        &lt;!&ndash; Définition vue form recherche équipement &ndash;&gt;
        &lt;!&ndash;<record id="vue_recherche_equipement" model="ir.ui.view">
            <field name="name">critt.equipment.recherche.form</field>
            <field name="model">critt.equipment.recherche</field>
            <field name="arch" type="xml">
                <form string="Recherche">
                    <header>
                        <button name="action_rechercher" string="Rechercher" type="object"/>
                    </header>
                    <sheet>
                        <group string="Recherche">
                            <field name="num_materiel" widget="char"/>
                        </group>
                        <group string="Recherche avancée">
                            <field name="categorie"/>
                            <field name="proprietaire"/>
                            <field name="an_mise_service" widget="char"/>
                            <field name="date_last_audit" widget="char"/>
                            <field name="num_derniere_facture"/>
                            <field name="test_recherche"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>&ndash;&gt;

        &lt;!&ndash; action vue recherche équipement &ndash;&gt;
        &lt;!&ndash;<record id="act_recherche_equipement" model="ir.actions.act_window">
            <field name="name">Recherche d'équipement</field>
            <field name="res_model">critt.equipment.recherche</field>
            <field name="view_type">form</field>
            <field name="view_mode">form</field>
            <field name="target">inline</field>
            <field name="view_id" ref="vue_recherche_equipement"/>
        </record>&ndash;&gt;

        &lt;!&ndash; Equipement - Recherche &ndash;&gt;
        &lt;!&ndash;<menuitem
                id="menu_recherche_equipement"
                parent="menu_main_certification"
                name="Recherche Équipement"
                action="act_recherche_equipement"
                sequence="1"/>&ndash;&gt;

        -->

        <!-- Définition de la vue form des équipements -->
        <record id="vue_equipement_form" model="ir.ui.view">
            <field name="name">Création équipement</field>
            <field name="model">critt.equipment</field>
            <field name="arch" type="xml">
                <form string="Equipments">
                    <header>
                    <!-- Boutons plus nécessaires pour le moment
                        <button name="action_creer_devis" string="Créer devis"
                                attrs="{'invisible': ['|', ('audit_depasse', '!=', True), ('statut', '!=', 'conforme')]}" type="object"/>
                        <button name="action_voir_devis" string="Voir devis"
                                attrs="{'invisible': [('statut', 'not in', ['audit_a_faire', 'diag_en_cours'])]}" type="object"/>
                        <button name="action_creer_audit" string="Créer audit"
                                attrs="{'invisible': [('statut', '!=', 'audit_a_faire')]}" type="object"/>
                        <button name="action_voir_audit" string="Voir audit"
                                attrs="{'invisible': [('statut', '!=', 'diag_en_cours')]}" type="object"/> -->
                    </header>
                    <sheet>
                        <script type="text/javascript" src="/certification/static/src/js/back_office/equipment_form.js"></script>
                         <script type="text/javascript" src="/certification/static/src/js/back_office/webcam_equipment.js"></script>
                        <script type="text/javascript" src="/certification/static/src/js/nfc/backofficeNodeEdit.js"></script>
                        <div class="o_not_full oe_button_box">
                            <button class="oe_stat_button oe_read_only" name="action_lancer_diagnostic"
                                    attrs="{'invisible': ['|', ('statut', '=', 'reforme'), ('of_cap_levage', '=', False)]}" type="object">
                                <p><img src="/certification/static/src/img/icon-diagnostic.png"/>Effectuer un contrôle</p>
                            </button>
                            <div style="float:right;" attrs="{'invisible': [('in_or_out', '=', 'in')]}">
                                <button class="oe_stat_button oe_read_only" name="materiel_entre" type="object">
                                    <p>Entrée matériel</p>
                                </button>
                            </div>
                            <div style="float:right;" attrs="{'invisible': [('in_or_out', '=', 'out')]}">
                                <button class="oe_stat_button oe_read_only" name="materiel_sort" type="object">
                                    <p>Sortie matériel</p>
                                </button>
                            </div>
                            <!-- <button class="oe_stat_button" id="btnLaunchWebcam">
                                <p><img src="/certification/static/src/img/webcam-icon.png"/>Prendre photo matériel</p>
                            </button> -->
                            <!-- <button class="oe_stat_button">
                                <p>Statut: <field name="statut" attrs="{'invisible': [('statut', '!=', 'ok')]}" style="color:green;"/>
                                            <field name="statut" attrs="{'invisible': [('statut', '!=', 'en_cours')]}" style="color:yellow;"/>
                                            <field name="statut" attrs="{'invisible': [('statut', '!=', 'bloque')]}" style="color:red;"/>
                                            <field name="statut" attrs="{'invisible': [('statut', '!=', 'reforme')]}" style="color:black;"/>
                                </p>
                            </button> -->
                            <!-- <button class="oe_stat_button" name="voir_devis" type="object">
                                <field name="sale_order_count" string="Devis en cours" widget="statinfo"/>
                            </button> -->

                            <div style="float:right;" attrs="{'invisible': [('is_bloque', '=', False)]}">
                                <button class="oe_stat_button oe_read_only" name="action_valider" type="object">
                                    <p><img src="/certification/static/src/img/sign-check-icon.png" height="30"/> Valider</p>
                                </button>
                            </div>
                            <div style="float:right;" attrs="{'invisible': [('is_bloque', '=', True)]}">
                                 <button class="oe_stat_button oe_read_only" name="action_valider"
                                         attrs="{'invisible': [('statut', '!=', 'bloque')]}" type="object">
                                    <p><img src="/certification/static/src/img/sign-check-icon.png" height="30"/> Valider</p>
                                </button>
                                <button class="oe_stat_button oe_read_only" name="action_bloquer"
                                        attrs="{'invisible': [('statut', '!=', 'ok')]}" type="object">
                                    <p><img src="/certification/static/src/img/sign-error-icon.png" height="30"/> Bloquer</p>
                                </button>
                            </div>
                        </div>
                        <!--<div id="webcam_popup" class="modal">
                            <div class="modal-content">
                                <span id="webcam_popup_close" class="close">&amp;times;</span>
                                <fieldset style="width: 100%; display: inline-block;">
                                    <legend>Appareil photo</legend>
                                    <center><video autoplay="1" id="videoElement"></video></center>
                                    <br />
                                    <div class="btn btn-light" onclick="takephoto();">Prendre une photo</div>
                                </fieldset>

                                &lt;!&ndash; <fieldset style="width: 640px; display: inline-block;">
                                    <legend>Photo</legend>
                                    <img id="capture_webcam_img" src="about:blank" alt="Photo" title="Photo"/>
                                </fieldset> &ndash;&gt;

                                <canvas id="canvas_webcam" style="display: none;" width="640" height="480"></canvas>
                                <input type="hidden" id="capture_ok" value="0"></input>
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                            </div>
                        </div>-->

                        <div class="row">

                            <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
                                <field name="image_medium" widget="image"/>
                                <!-- <field name="image_medium" widget="image" class="oe_avatar oe_avatar2"/> -->
                                <!-- <div class="btn btn-light oe_edit_only" id="btnLaunchWebcam">
                                    <p><img src="/certification/static/src/img/webcam-icon.png"/>Prendre photo matériel</p>
                                </div> -->
                            </div>

                            <div class="col-xs-6 col-sm-6 col-md-push-6 col-md-3 col-lg-3">

                                <div class="o_group" attrs="{'invisible': [('is_bloque', '=', True)]}">
                                    <field name="statut" attrs="{'invisible': [('statut', '!=', 'ok')]}" class="equipment_statut ok"/>
                                    <field name="statut" attrs="{'invisible': [('statut', '!=', 'en_cours')]}" class="equipment_statut en_cours"/>
                                    <field name="statut" attrs="{'invisible': [('statut', '!=', 'bloque')]}" class="equipment_statut bloque"/>
                                    <field name="statut" attrs="{'invisible': [('statut', '!=', 'reforme')]}" class="equipment_statut reforme"/>
                                </div>
                                <div class="o_group" attrs="{'invisible': [('is_bloque', '=', False)]}">
                                    <span class="equipment_statut bloque">Bloqué</span>
                                </div>

                                <div class="form-inline">
                                     <label for="last_general_observation"/>
                                        <field name="last_general_observation" readonly="1" force_save="1"/>
                                </div>
                                <div class="form-inline">
                                    <button class="oe_stat_button" name="voir_devis" type="object">
                                        <p><field name="sale_order_count" string="Devis en cours" widget="statinfo"/></p>
                                    </button>
                                </div>
                                <div class="form-inline">
                                     <label for="from_cap_levage"/>
                                     <field name="from_cap_levage"/>
                                </div>
                                <div class="form-inline">
                                     <label for="fabricant"/>
                                    <field name="fabricant" attrs="{'readonly':[('from_cap_levage', '=', True)]}" force_save="1"/>
                                </div>
                                <div class="form-inline" invisible="1">
                                     <label for="of_cap_levage"/>
                                     <field name="of_cap_levage"/>
                                </div>
                                <div class="form-inline">
                                     <label for="orga_certif"/>
                                    <field name="orga_certif" attrs="{'readonly':[('of_cap_levage', '=', True)]}" force_save="1"/>
                                </div>
                                <div class="form-inline">
                                     <label for="date_entree"/>
                                     <field name="date_entree"/>
                                </div>
                                <div class="form-inline">
                                     <label for="date_sortie"/>
                                     <field name="date_sortie"/>
                                </div>
                            </div>

                            <div id="equipment_id" style="display:none;">
                                <field name="id"/>
<!--                                <field name="is_elingue"/>-->
                                <field name="is_bloque"/>
                                <field name="display_nombre_brins"/>
                                <field name="display_longueur"/>
                                <field name="display_cmu"/>
                                <field name="in_or_out"/>
                            </div>

                            <div class="col-xs-6 col-sm-6 col-md-pull-3 col-md-3 col-lg-3">
                                <div class="form-inline">
                                    <label for="owner_user_id" style="float:left;" class="oe_edit_only"/>
                                    <field name="owner_user_id" class="oe_edit_only"/>
                                    <label for="res_partner_id" style="float:left;" class="oe_read_only"/>
                                    <field name="res_partner_id" class="oe_read_only"/>
                                    <!--<span class="edit_client oe_edit_only">
                                        <field name="owner_user_id" class="oe_edit_only" style="float:left;"/>
                                        <field name="client_link" widget="url" readonly="1" text="Voir" class="custom_link" style="float:left;"/>
                                    </span>
                                    <span class="oe_read_only">
                                        <field name="client"/>
                                        <field name="client_link" widget="url" readonly="1" text="Voir" class="custom_link"/>
                                    </span>-->


                                    <!-- <a href="" class="oe_read_only"></a> -->
                                </div>
                                <div class="form-inline">
                                     <label for="num_materiel"/>
                                     <field name="num_materiel"/>
                                 </div>
                                <div class="form-inline">
                                    <label for="internal_no"/>
                                    <field name="internal_no"/>
                                </div>
                                 <div class="form-inline">
                                    <label for="category_id"></label>
                                    <field name="category_id" options="{&quot;no_open&quot;: True}"/>
                                </div>
                                <div class="form-inline">
                                    <label for="an_mise_service"/>
                                    <field name="an_mise_service" autocomplete="off"/>
                                </div>
                                <div class="form-inline">
                                    <label for="date_dernier_audit"/>
                                    <field name="date_dernier_audit" autocomplete="off" force_save="1"/>
                                </div>
                                <div class="form-inline">
                                    <label for="audit_suivant"/>
                                    <field name="audit_suivant" autocomplete="off" force_save="1"/>
                                </div>
                                <!-- <div class="form-inline">
                                    <label for="name">Nom: </label>
                                    <field name="name"/>
                                </div> -->
                               <!-- <div class="form-inline">
                                    <label for="localisation_description"/>
                                    <field name="localisation_description"/>
                                </div> -->
                                <div class="form-inline">
                                     <label for="periode"/>
                                     <field name="periode"/>
                                 </div>
                                <div id="nfc_content" class="form-inline oe_edit_only">
                                     <div id="nfc_img" class="nfc scan"><span></span></div>
                                     <field name="nfc"/>
                                     <!-- <input type="text" id="nfc" name="nfc" class="o_field_char o_field_widget o_input o_required_modifier" t-att-value="equipment.nfc" placeholder="NFC"></input> -->
                                 </div>
                            </div>

                            <div class="col-xs-6 col-sm-6 col-md-pull-3 col-md-3 col-lg-3">
                                <div class="form-inline">
                                    <label for="agence"/>
                                    <field name="agence"/>
                                </div>
                                <div class="form-inline">
                                    <label for="equipe"/>
                                    <field name="equipe"/>
                                </div>
                                <div class="form-inline" attrs="{'invisible':[('display_cmu', '=', False)]}">
                                    <label for="cmu"/>
                                    <field name="cmu"/>
                                </div>
                                <div class="form-inline" attrs="{'invisible':[('display_nombre_brins', '=', False)]}">
                                    <label for="nombre_brins"/>
                                    <field name="nombre_brins"/>
                                </div>
                                <div class="form-inline" attrs="{'invisible':[('display_longueur', '=', False)]}">
                                    <label for="longueur"/>
                                    <field name="longueur"/>
                                </div>

                            </div>
                        </div>


                        <!-- <field name="image_medium" widget="image" class="oe_avatar oe_avatar"/>
                        <div class="oe_title">
                            <label for="num_materiel" class="oe_edit_only"/>
                            <h1><field name="num_materiel" string="Numéro Matériel" placeholder="Numéro Matériel"/></h1>
                        </div>
                        <group>
                            <group>
                                <group>
                                    <field name="name"/>
                                    <field name="category_id" options="{&quot;no_open&quot;: True}"/>
                                    <field name="owner_user_id"/>
                                    <field name="localisation_description"/>
                                    <field name="periode"/>
                                    <field name="an_mise_service"/>
                                    <field name="date_dernier_audit"/>
                                    <field name="audit_suivant"/>
                                    <field name="nfc" readonly="1" force_save="1"/>
                                </group>
                                <group>
                                    <field name="of_cap_levage"/>
                                    <field name="orga_certif" attrs="{'readonly':[('of_cap_levage', '=', True)]}" force_save="1"/>
                                </group>
                            </group>
                        </group> -->
                        <notebook>
                            <page string="Certificats">
                                <field name="certificats"
                                       attrs="{'readonly': [('statut', '=', 'reforme')], 'force_save': [('statut', '=', 'reforme')]}"
                                       context="{'default_id_equipment': id}">
                                    <tree>
                                        <field name="desc"/>
                                        <field name="pdf" widget="url" class="link_pdf"/>
                                        <field name="dl_pdf" widget="url" class="link_pdf"/>
                                        <!-- Autre solution à la vue des pdf (action à faire)
                                        <button name="voir_pdf" type="action" string="Voir certificat"/> -->
                                    </tree>
                                </field>
                            </page>
                             <page string="Travaux effectués sur le matériel">
                                <field name="work_done_on_equipment">
                                    <tree>
                                        <field name="last_work_year" attrs="{'invisible': [('invoice_ok', '=', False)]}"/>
                                        <field name="last_work_num_facture" attrs="{'invisible': [('invoice_ok', '=', False)]}"/>
                                        <field name="invoice_ok" attrs="{'invisible': [('invoice_ok', '=', False)]}"/>
                                        <button class="btn btn-light" name="play_file" type="object" string="pdf" attrs="{'invisible': [('invoice_ok', '=', False)]}">
                                            <img height="35" src="/certification/static/src/img/pdf.png"></img>
                                        </button>
                                        <!-- Autre solution à la vue des pdf (action à faire)
                                        <button name="voir_pdf" type="action" string="Voir certificat"/> -->
                                    </tree>
                                </field>
                            </page>
                            <!-- <page string="Localisation">
                                <group>
                                    <field name="localisation_description"/>
                                    <field name="latitude"/>
                                    <field name="longitude"/>
                                    <button name="map" type="object" class="oe_highlight">
                                        <img height="25" src="/certification/static/src/img/marker.png"></img>
                                        <span>Google Maps</span>
                                    </button>
                                </group>
                            </page> -->
                        </notebook>
                    </sheet>
                </form>

            </field>
        </record>

        <!-- Définition de la vue liste des équipements -->
        <record id="vue_equipement_tree" model="ir.ui.view">
            <field name="name">critt.equipment.tree</field>
            <field name="model">critt.equipment</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="image_medium" widget="image" class="equipment_photo zoom"/>
                    <field name="res_partner_id"/>
                    <!-- <field name="client"/> -->
                    <field name="num_materiel"/>
                    <field name="category_id"/>
                    <field name="statut" class="tree_equipment_statut" options='{"bg_color": "green:statut_index == 0;orange:statut_index == 1;red:statut_index == 2;black:statut_index == 3;"}'/>
                    <field name="statut_index" invisible="1"/>
                    <field name="date_dernier_audit"/>
<<<<<<< HEAD
                    <field name="audit_suivant" options='{"bg_color": "red:audit_suivant_color_index == 1;orange:audit_suivant_color_index == 2;"}'/>
                    <field name="audit_suivant_color_index" invisible="1"/>
=======
                    <field name="audit_suivant"/>
                    <field name="date_entree"/>
                    <field name="date_sortie"/>
>>>>>>> origin/Lucas
                    <field string="Dernier certificat" name="last_certificat" widget="url" class="link_pdf"/>
                    <field name="orga_certif"/>
                    <!-- Boutons plus nécessaires pour le moment
                    <button name="action_creer_devis" string="Créer devis"
                            attrs="{'invisible': ['|', ('audit_depasse', '!=', True), ('statut', '!=', 'conforme')]}" type="object"/>
                    <button name="action_voir_devis" string="Voir devis"
                            attrs="{'invisible': [('statut', 'not in', ['audit_a_faire', 'diag_en_cours'])]}" type="object"/>
                    <button name="action_creer_audit" string="Créer audit"
                            attrs="{'invisible': [('statut', '!=', 'audit_a_faire')]}" type="object"/>
                    <button name="action_voir_audit" string="Voir audit"
                            attrs="{'invisible': [('statut', '!=', 'diag_en_cours')]}" type="object"/> -->
                    <field name="of_cap_levage" invisible="1"/>
                    <field name="audit_depasse" invisible="1"/>
                </tree>
            </field>
        </record>

        <!-- Définition vue de search équipement -->
        <record id="search_equipment" model="ir.ui.view">
            <field name="name">Recherche équipement</field>
            <field name="model">critt.equipment</field>
            <field name="arch" type="xml">
                <search string="Search of_cap_levage">
                    <field name="num_materiel" string="Numéro gravé"/>
                    <field name="owner_user_id" string="Client"/>
                    <field name="an_mise_service" string="Année mise en service"/>
                    <field name="category_id" string="Catégorie"/>
                    <field name="date_dernier_audit" string="Date dernier contrôle"/>
                    <field name="num_derniere_facture" string="Numéro dernière facture"/>
                    <field name="in_or_out" string="Entré ou sortit"/>
                    <field name="of_cap_levage" string="De Cap Levage" filter_domain="[('of_cap_levage', '=', True)]"/>
                    <separator/>
                    <filter string="De Cap Levage" name="type_date" domain="[('of_cap_levage', '=', True)]"/>
                    <separator/>
                </search>
            </field>
        </record>

        <!-- Définition de la vue liste des categorie de maintenance -->
        <record id="vue_categorie_maintenance_tree" model="ir.ui.view">
            <field name="name">Liste des catégories de matériel</field>
            <field name="model">critt.equipment.category</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="category_article_id"/>
                    <field name="periode"/>
                </tree>
            </field>
        </record>

        <!-- Définition de la vue form des catégories équipement -->
        <record id="vue_equipement_category_form" model="ir.ui.view">
            <field name="name">Création d'une catégorie de matériel</field>
            <field name="model">critt.equipment.category</field>
            <field name="arch" type="xml">
                 <form string="Equipment Categories">
                    <sheet>
                        <div class="oe_title">
                            <label for="name" class="oe_edit_only" string="Category Name"/>
                            <h1>
                                <field name="name"/>
                            </h1>
                        </div>
                        <group col="4">
                            <field name="periode"/>
                            <field name="category_article_id"/>
                        </group>
                        <group col="8">
                            <field name="of_cap_levage"/>
                            <field name="display_nombre_brins"/>
                            <field name="display_longueur"/>
                            <field name="display_cmu"/>
                        </group>
                        <group>
                            <field name="image" widget="image"/>
                            <field name="url_video" widget="url"/>
                        </group>
<!--                    <field name="note" nolabel="1"/>-->
                    </sheet>
                </form>

            </field>
        </record>

        <!-- Action vue list equipment -->
        <record id="act_equipement_view" model="ir.actions.act_window">
            <field name="name">Gestion des matériels</field>
            <field name="res_model">critt.equipment</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <field name="context">{"search_default_type_date":1}</field>
            <!--<field name="view_id" ref="vue_equipement_tree"/>-->
        </record>

        <!-- Action nouveau matériel -->
        <record id="act_new_equipment_view" model="ir.actions.act_window">
            <field name="name">Nouveau matériel</field>
            <field name="res_model">critt.equipment</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">form</field>
            <!-- <field name="view_id" ref="vue_equipement_form"/> -->
        </record>

        <!-- action vue list category -->
        <record id="act_categorie_maintenance_view" model="ir.actions.act_window">
            <field name="name">Gestion des categories de matériel</field>
            <field name="res_model">critt.equipment.category</field>
            <!-- <field name="view_type">form</field> -->
            <field name="view_mode">tree,form</field>
            <!-- <field name="view_id" ref="vue_categorie_maintenance_tree"/> -->
        </record>

        <!-- Action générer rapport diagnostic -->
        <record model="ir.actions.server" id="action_imprimer_rapport">
            <field name="name">Générer rapport diagnostic</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="certification.model_critt_certification_rapport_controle"/>
            <field name="binding_model_id" ref="certification.model_critt_equipment"/>
            <field name="state">code</field>
            <field name="code">
                url = model.get_selected_ids(env.context);action = {
                    'type': 'ir.actions.act_url',
                    'name': "Rapport Diagnostic",
                    'target': 'new',
                    'url': url,
                }
            </field>
        </record>

        <!-- Matériel -->
        <menuitem
                id="menu_materiel"
                parent="menu_main"
                name="Matériel"
                sequence="2"/>

        <!-- Matériel - Liste -->
        <menuitem
                id="menu_materiel_liste"
                parent="menu_materiel"
                name="Liste"
                action="act_equipement_view"
                sequence="1"/>

        <!-- Matériel - Nouveau -->
        <menuitem
                id="menu_materiel_nouveau"
                parent="menu_materiel"
                name="Nouveau"
                action="act_new_equipment_view"
                sequence="2"/>

        <!-- Configuration - Type materiel -->
        <menuitem
                id="menu_materiel_type"
                parent="menu_configuration"
                name="Types de matériel"
                action="act_categorie_maintenance_view"
                sequence="1"/>

    </data>
</odoo>